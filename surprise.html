<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="A special surprise just for you">
  <title>Surprise ðŸ’•</title>
  
  <!-- AOS Animation Library -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  
  <!-- Global Styles -->
  <link rel="stylesheet" href="css/globals.css">
  
  <style>
    /* =====================================================================
       3D GIFT BOX - PROPERLY SCALED & RESPONSIVE
       ===================================================================== */
    
    /* Scene container with perspective */
    .gift-scene {
      perspective: 800px;
      perspective-origin: center center;
      width: 100%;
      height: 380px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 20px auto 40px;
    }

    /* Main wrapper - handles animation and interaction */
    .gift-box-wrapper {
      --box-size: 140px;
      --lid-height: 40px;
      --ribbon-width: 28px;
      
      position: relative;
      width: var(--box-size);
      height: var(--box-size);
      transform-style: preserve-3d;
      transform: rotateX(-20deg) rotateY(-25deg);
      animation: boxFloat 4s ease-in-out infinite;
      cursor: pointer;
      transition: transform 0.4s ease;
    }

    .gift-box-wrapper:hover {
      animation-play-state: paused;
      transform: rotateX(-15deg) rotateY(-20deg) scale(1.08);
    }

    .gift-box-wrapper.opened {
      animation: none !important;
      transform: rotateX(-20deg) rotateY(-25deg);
      pointer-events: none;
    }

    @keyframes boxFloat {
      0%, 100% { 
        transform: rotateX(-20deg) rotateY(-25deg) translateY(0); 
      }
      50% { 
        transform: rotateX(-20deg) rotateY(-25deg) translateY(-12px); 
      }
    }

    /* =====================================================================
       BOX BODY
       ===================================================================== */
    .gift-box {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
    }

    .box-side {
      position: absolute;
      width: var(--box-size);
      height: var(--box-size);
      background: linear-gradient(145deg, #FF8FA3 0%, #FFB3C6 50%, #FFC4D4 100%);
      border: 2px solid rgba(255, 255, 255, 0.7);
      box-shadow: 
        inset 0 0 30px rgba(255, 255, 255, 0.4),
        inset 0 0 60px rgba(255, 107, 138, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .box-front  { transform: translateZ(calc(var(--box-size) / 2)); }
    .box-back   { transform: rotateY(180deg) translateZ(calc(var(--box-size) / 2)); }
    .box-right  { transform: rotateY(90deg) translateZ(calc(var(--box-size) / 2)); }
    .box-left   { transform: rotateY(-90deg) translateZ(calc(var(--box-size) / 2)); }
    .box-bottom { transform: rotateX(-90deg) translateZ(calc(var(--box-size) / 2)); }

    /* =====================================================================
       RIBBONS
       ===================================================================== */
    .ribbon-stripe {
      position: absolute;
      background: linear-gradient(135deg, #FF5C7C 0%, #FF6B8A 50%, #FF7A99 100%);
      box-shadow: 
        0 2px 6px rgba(0, 0, 0, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.4);
    }

    .ribbon-v {
      width: var(--ribbon-width);
      height: 100%;
      left: 50%;
      transform: translateX(-50%);
    }

    .ribbon-h {
      width: 100%;
      height: var(--ribbon-width);
      top: 50%;
      transform: translateY(-50%);
    }

    /* =====================================================================
       LID
       ===================================================================== */
    .gift-lid {
      position: absolute;
      width: calc(var(--box-size) + 12px);
      height: var(--lid-height);
      left: -6px;
      top: calc(-1 * var(--lid-height));
      transform-style: preserve-3d;
      transform-origin: center bottom;
      transition: transform 0.9s cubic-bezier(0.68, -0.6, 0.32, 1.6);
    }

    .gift-box-wrapper.opened .gift-lid {
      transform: rotateX(-120deg) translateY(-30px);
    }

    .lid-side {
      position: absolute;
      background: linear-gradient(145deg, #FF7A94 0%, #FF9EB0 50%, #FFB3C1 100%);
      border: 2px solid rgba(255, 255, 255, 0.7);
      box-shadow: inset 0 0 20px rgba(255, 255, 255, 0.4);
    }

    .lid-top {
      width: calc(var(--box-size) + 12px);
      height: calc(var(--box-size) + 12px);
      transform: rotateX(90deg) translateZ(calc(var(--lid-height) / 2));
    }

    .lid-front {
      width: calc(var(--box-size) + 12px);
      height: var(--lid-height);
      transform: translateZ(calc(var(--box-size) / 2 + 6px));
    }

    .lid-back {
      width: calc(var(--box-size) + 12px);
      height: var(--lid-height);
      transform: rotateY(180deg) translateZ(calc(var(--box-size) / 2 + 6px));
    }

    .lid-right {
      width: calc(var(--box-size) + 12px);
      height: var(--lid-height);
      transform: rotateY(90deg) translateZ(calc(var(--box-size) / 2 + 6px));
    }

    .lid-left {
      width: calc(var(--box-size) + 12px);
      height: var(--lid-height);
      transform: rotateY(-90deg) translateZ(calc(var(--box-size) / 2 + 6px));
    }

    /* =====================================================================
       BOW
       ===================================================================== */
    .bow-container {
      position: absolute;
      width: 90px;
      height: 60px;
      left: 50%;
      top: -45px;
      transform: translateX(-50%) rotateX(-90deg) translateZ(-15px);
    }

    .bow-loop {
      position: absolute;
      width: 42px;
      height: 35px;
      background: linear-gradient(145deg, #FF5C7C 0%, #FF6B8A 50%, #FF8598 100%);
      border-radius: 50% 50% 40% 40%;
      box-shadow: 
        0 3px 8px rgba(0, 0, 0, 0.2),
        inset 0 2px 4px rgba(255, 255, 255, 0.3);
      top: 8px;
    }

    .bow-loop-left {
      left: 2px;
      transform: rotate(-30deg);
    }

    .bow-loop-right {
      right: 2px;
      transform: rotate(30deg);
    }

    .bow-knot {
      position: absolute;
      width: 26px;
      height: 26px;
      background: linear-gradient(145deg, #FF4D6D 0%, #FF5C7C 100%);
      border-radius: 50%;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      box-shadow: 
        0 3px 10px rgba(0, 0, 0, 0.25),
        inset 0 2px 4px rgba(255, 255, 255, 0.3);
      z-index: 10;
    }

    .bow-tail {
      position: absolute;
      width: 18px;
      height: 38px;
      background: linear-gradient(to bottom, #FF5C7C 0%, #FF7A94 100%);
      bottom: -28px;
      border-radius: 0 0 10px 10px;
    }

    .bow-tail-left {
      left: 22px;
      transform: rotate(12deg);
    }

    .bow-tail-right {
      right: 22px;
      transform: rotate(-12deg);
    }

    /* =====================================================================
       SURPRISE REVEAL (Heart that pops out)
       ===================================================================== */
    .surprise-reveal {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0);
      opacity: 0;
      transition: all 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) 0.4s;
      z-index: 100;
    }

    .gift-box-wrapper.opened .surprise-reveal {
      transform: translate(-50%, calc(-100% - 40px)) scale(1);
      opacity: 1;
    }

    .surprise-heart {
      width: 80px;
      height: 80px;
      background: linear-gradient(145deg, #FF5C7C 0%, #FF6B8A 50%, #FF8FA3 100%);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 
        0 8px 30px rgba(255, 107, 138, 0.5),
        0 0 60px rgba(255, 107, 138, 0.3);
    }

    .surprise-heart svg {
      width: 45px;
      height: 45px;
      fill: white;
      filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
      animation: heartBeat 1s ease-in-out infinite 0.8s;
    }

    @keyframes heartBeat {
      0%, 100% { transform: scale(1); }
      15% { transform: scale(1.15); }
      30% { transform: scale(1); }
      45% { transform: scale(1.1); }
      60% { transform: scale(1); }
    }

    /* Click instruction */
    .click-instruction {
      position: absolute;
      bottom: -50px;
      left: 50%;
      transform: translateX(-50%);
      font-size: var(--font-size-sm);
      color: var(--color-text-muted);
      white-space: nowrap;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.6; }
      50% { opacity: 1; }
    }

    .gift-box-wrapper.opened + .click-instruction {
      opacity: 0;
      visibility: hidden;
    }

    /* =====================================================================
       EXPLOSION EFFECTS
       ===================================================================== */
    .explosion-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9999;
      overflow: hidden;
    }

    .sparkle {
      position: absolute;
      width: 8px;
      height: 8px;
      background: var(--color-rose);
      border-radius: 50%;
      animation: sparkleExplode 1.2s ease-out forwards;
    }

    @keyframes sparkleExplode {
      0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
      }
      100% {
        opacity: 0;
        transform: translate(var(--tx), var(--ty)) scale(0);
      }
    }

    .heart-particle {
      position: absolute;
      font-size: 20px;
      animation: heartFloat 1.8s ease-out forwards;
    }

    @keyframes heartFloat {
      0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1) rotate(0deg);
      }
      100% {
        opacity: 0;
        transform: translate(var(--tx), var(--ty)) scale(0.3) rotate(var(--rot));
      }
    }

    /* =====================================================================
       SURPRISE CONTAINER
       ===================================================================== */
    .surprise-container {
      max-width: 800px;
      margin: 0 auto;
      padding: var(--spacing-xl) var(--spacing-md);
    }

    /* =====================================================================
       MESSAGE CONTAINER
       ===================================================================== */
    .surprise-message-container {
      max-height: 0;
      overflow: hidden;
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
    }

    .surprise-message-container.show {
      max-height: 3000px;
      opacity: 1;
      transform: translateY(0);
    }

    /* Interactive Cards */
    .surprise-interactive-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: var(--spacing-lg);
    }

    .surprise-card {
      background: var(--glass-background);
      backdrop-filter: blur(var(--glass-blur));
      border: 1px solid var(--glass-border);
      border-radius: var(--radius-lg);
      padding: var(--spacing-xl) var(--spacing-lg);
      text-align: center;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      position: relative;
      overflow: hidden;
    }

    .surprise-card::before {
      content: '';
      position: absolute;
      inset: 0;
      background: var(--gradient-sunset);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .surprise-card:hover {
      transform: translateY(-6px);
      box-shadow: var(--shadow-glow);
      border-color: var(--color-rose);
    }

    .surprise-card:hover::before {
      opacity: 0.1;
    }

    .surprise-card-icon {
      position: relative;
      z-index: 1;
      width: 56px;
      height: 56px;
      margin: 0 auto var(--spacing-md);
      background: var(--glass-background-pink);
      border-radius: var(--radius-full);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--color-rose);
    }

    .surprise-card-title {
      position: relative;
      z-index: 1;
      font-size: var(--font-size-base);
      font-weight: 600;
      color: var(--color-text-primary);
      margin-bottom: var(--spacing-xs);
    }

    .surprise-card-text {
      position: relative;
      z-index: 1;
      font-size: var(--font-size-sm);
      color: var(--color-text-secondary);
      line-height: 1.4;
    }

    /* =====================================================================
       CONFETTI CANVAS
       ===================================================================== */
    #confetti-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9998;
    }

    /* =====================================================================
       REVEAL MODAL
       ===================================================================== */
    .reveal-modal {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(10px);
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      opacity: 0;
      visibility: hidden;
      transition: all 0.5s ease;
    }

    .reveal-modal.show {
      opacity: 1;
      visibility: visible;
    }

    .reveal-modal-content {
      background: white;
      border-radius: 24px;
      padding: 30px;
      max-width: 400px;
      width: 100%;
      text-align: center;
      transform: scale(0.8);
      transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .reveal-modal.show .reveal-modal-content {
      transform: scale(1);
    }

    .reveal-image-wrapper {
      width: 100%;
      height: 200px;
      margin: 0 auto 20px;
      border-radius: 16px;
      overflow: hidden;
      background: linear-gradient(135deg, #FFE8F0 0%, #FFF0F5 100%);
      box-shadow: 0 10px 40px rgba(255, 107, 138, 0.3);
    }

    .reveal-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .reveal-title {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--color-rose);
      margin-bottom: 10px;
    }

    .reveal-text {
      color: #666;
      font-size: 0.95rem;
      line-height: 1.6;
      margin-bottom: 20px;
    }

    .reveal-progress {
      height: 4px;
      background: #eee;
      border-radius: 2px;
      overflow: hidden;
    }

    .reveal-progress::after {
      content: '';
      display: block;
      height: 100%;
      width: 0;
      background: var(--gradient-sunset);
    }

    .reveal-modal.show .reveal-progress::after {
      animation: progressFill 3s linear forwards;
    }

    @keyframes progressFill {
      to { width: 100%; }
    }

    /* =====================================================================
       BIRTHDAY CAKE SECTION
       ===================================================================== */
    .cake-section {
      position: fixed;
      inset: 0;
      background: linear-gradient(135deg, #FFF5F7 0%, #FFE8F0 50%, #FFEEF5 100%);
      z-index: 9000;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      padding: 20px;
      padding-top: 40px;
      padding-bottom: 40px;
      opacity: 0;
      visibility: hidden;
      transition: all 0.6s ease;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }

    .cake-section.show {
      opacity: 1;
      visibility: visible;
    }

    .cake-content {
      text-align: center;
      width: 100%;
      max-width: 450px;
      padding: 25px 20px;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 24px;
      box-shadow: 0 20px 60px rgba(255, 107, 138, 0.2);
      margin: auto;
    }

    .cake-title {
      font-size: 1.8rem;
      font-weight: 800;
      margin-bottom: 8px;
    }

    .cake-subtitle {
      color: var(--color-text-secondary);
      margin-bottom: 25px;
      font-size: 1rem;
    }

    .cake-container {
      position: relative;
      cursor: pointer;
      transition: transform 0.15s ease;
      padding: 20px;
    }

    .cake-container:hover {
      transform: scale(1.02);
    }

    .cake-container:active {
      transform: scale(0.95);
    }

    .birthday-cake {
      position: relative;
      width: 200px;
      height: 220px;
      margin: 0 auto 15px;
      filter: drop-shadow(0 10px 20px rgba(255, 107, 138, 0.3));
    }

    .cake-candles {
      display: flex;
      justify-content: center;
      gap: 30px;
      position: absolute;
      top: 5px;
      left: 50%;
      transform: translateX(-50%);
    }

    .candle {
      width: 12px;
      height: 45px;
      background: linear-gradient(to bottom, #FFE4B5 0%, #FFA500 50%, #FF8C00 100%);
      border-radius: 4px 4px 0 0;
      position: relative;
      box-shadow: inset -2px 0 4px rgba(0,0,0,0.1);
    }

    .flame {
      position: absolute;
      top: -22px;
      left: 50%;
      transform: translateX(-50%);
      width: 16px;
      height: 24px;
      background: linear-gradient(to top, #FF4500, #FF6B00 30%, #FFD700 60%, #FFF8DC 100%);
      border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
      animation: flicker 0.3s ease-in-out infinite alternate;
      box-shadow: 0 0 15px 5px rgba(255, 165, 0, 0.4);
    }

    @keyframes flicker {
      0% { transform: translateX(-50%) scale(1) rotate(-3deg); opacity: 0.9; }
      100% { transform: translateX(-50%) scale(1.15) rotate(3deg); opacity: 1; }
    }

    .cake-top {
      position: absolute;
      top: 55px;
      left: 50%;
      transform: translateX(-50%);
      width: 150px;
      height: 50px;
      background: linear-gradient(to bottom, #FF8FA3 0%, #FFB3C1 50%, #FFC4D4 100%);
      border-radius: 12px 12px 6px 6px;
      box-shadow: 0 5px 0 #E87A8F, inset 0 -10px 20px rgba(255, 255, 255, 0.3);
    }

    .cake-top::before {
      content: '';
      position: absolute;
      top: 8px;
      left: 15px;
      right: 15px;
      height: 8px;
      background: white;
      border-radius: 4px;
      opacity: 0.6;
    }

    .cake-middle {
      position: absolute;
      top: 105px;
      left: 50%;
      transform: translateX(-50%);
      width: 170px;
      height: 55px;
      background: linear-gradient(to bottom, #FFF0F5 0%, #FFE4EC 100%);
      border-radius: 6px;
      box-shadow: 0 5px 0 #E8D4D9, inset 0 5px 15px rgba(255, 255, 255, 0.5);
    }

    .cake-middle::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80%;
      height: 4px;
      background: repeating-linear-gradient(
        90deg,
        var(--color-rose) 0px,
        var(--color-rose) 8px,
        transparent 8px,
        transparent 16px
      );
      opacity: 0.5;
    }

    .cake-bottom {
      position: absolute;
      top: 160px;
      left: 50%;
      transform: translateX(-50%);
      width: 190px;
      height: 55px;
      background: linear-gradient(to bottom, #FF8FA3 0%, #FFB3C1 100%);
      border-radius: 6px 6px 12px 12px;
      box-shadow: 0 6px 0 #E87A8F, inset 0 -10px 20px rgba(255, 255, 255, 0.3);
    }

    .cake-plate {
      position: absolute;
      bottom: -5px;
      left: 50%;
      transform: translateX(-50%);
      width: 220px;
      height: 18px;
      background: linear-gradient(to bottom, #f5f5f5, #e0e0e0);
      border-radius: 50%;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .tap-hint {
      font-size: 1rem;
      color: var(--color-rose);
      font-weight: 600;
      animation: bounce 1s ease-in-out infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }

    /* Kiss Counter */
    .kiss-counter-wrapper {
      margin: 30px 0;
    }

    .kiss-counter {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      background: var(--glass-background);
      backdrop-filter: blur(10px);
      padding: 15px 30px;
      border-radius: 50px;
      box-shadow: var(--shadow-soft);
      margin-bottom: 10px;
    }

    .kiss-counter svg {
      animation: heartBeat 1.5s ease-in-out infinite;
    }

    .kiss-count {
      font-size: 2.5rem;
      font-weight: 800;
      color: var(--color-rose);
    }

    .kiss-label {
      font-size: 0.9rem;
      color: var(--color-text-secondary);
    }

    .kiss-message {
      font-size: 0.9rem;
      color: var(--color-text-muted);
      font-style: italic;
    }

    .continue-btn {
      margin-top: 20px;
      opacity: 0.5;
      pointer-events: none;
      transition: all 0.3s ease;
    }

    .continue-btn.enabled {
      opacity: 1;
      pointer-events: auto;
    }

    /* Tap Effect */
    .tap-effect {
      position: absolute;
      pointer-events: none;
      font-size: 30px;
      animation: tapFloat 1s ease-out forwards;
    }

    @keyframes tapFloat {
      0% { opacity: 1; transform: translate(-50%, 0) scale(1); }
      100% { opacity: 0; transform: translate(-50%, -100px) scale(1.5); }
    }

    /* =====================================================================
       RESPONSIVE - TABLETS
       ===================================================================== */
    @media (max-width: 768px) {
      .gift-scene {
        height: 320px;
      }

      .gift-box-wrapper {
        --box-size: 120px;
        --lid-height: 35px;
        --ribbon-width: 24px;
      }

      .bow-container {
        width: 75px;
        height: 50px;
        top: -38px;
      }

      .bow-loop {
        width: 35px;
        height: 28px;
      }

      .bow-knot {
        width: 22px;
        height: 22px;
      }

      .bow-tail {
        width: 15px;
        height: 32px;
        bottom: -24px;
      }

      .bow-tail-left { left: 18px; }
      .bow-tail-right { right: 18px; }

      .surprise-heart {
        width: 70px;
        height: 70px;
      }

      .surprise-heart svg {
        width: 40px;
        height: 40px;
      }

      .surprise-interactive-grid {
        gap: var(--spacing-md);
      }

      .surprise-card {
        padding: var(--spacing-lg);
      }

      .surprise-card-icon {
        width: 50px;
        height: 50px;
      }
    }

    /* =====================================================================
       RESPONSIVE - MOBILE
       ===================================================================== */
    @media (max-width: 480px) {
      .gift-scene {
        height: 280px;
        margin: 10px auto 30px;
      }

      .gift-box-wrapper {
        --box-size: 100px;
        --lid-height: 30px;
        --ribbon-width: 20px;
      }

      .bow-container {
        width: 60px;
        height: 42px;
        top: -32px;
      }

      .bow-loop {
        width: 28px;
        height: 24px;
      }

      .bow-knot {
        width: 18px;
        height: 18px;
      }

      .bow-tail {
        width: 12px;
        height: 26px;
        bottom: -20px;
      }

      .bow-tail-left { left: 14px; }
      .bow-tail-right { right: 14px; }

      .surprise-heart {
        width: 60px;
        height: 60px;
      }

      .surprise-heart svg {
        width: 35px;
        height: 35px;
      }

      .click-instruction {
        bottom: -40px;
        font-size: 12px;
      }

      .surprise-interactive-grid {
        grid-template-columns: 1fr;
        gap: var(--spacing-sm);
      }

      .surprise-card {
        padding: var(--spacing-md);
      }

      .surprise-card-icon {
        width: 45px;
        height: 45px;
      }

      .surprise-card-icon svg {
        width: 22px;
        height: 22px;
      }

      .surprise-card-title {
        font-size: var(--font-size-sm);
      }

      .surprise-card-text {
        font-size: 12px;
      }

      /* Cake section mobile */
      .cake-section::before {
        font-size: 1rem;
        letter-spacing: 8px;
      }

      .cake-content {
        padding: 20px;
        margin: 10px;
      }

      .cake-title {
        font-size: 1.4rem;
      }

      .birthday-cake {
        width: 160px;
        height: 180px;
      }

      .cake-candles {
        gap: 20px;
      }

      .candle {
        width: 10px;
        height: 35px;
      }

      .flame {
        width: 12px;
        height: 18px;
        top: -18px;
      }

      .cake-top {
        top: 45px;
        width: 120px;
        height: 40px;
      }

      .cake-middle {
        top: 85px;
        width: 140px;
        height: 45px;
      }

      .cake-bottom {
        top: 130px;
        width: 160px;
        height: 45px;
      }

      .cake-plate {
        width: 180px;
      }

      .tap-hint {
        font-size: 0.9rem;
      }

      .kiss-counter {
        flex-direction: column;
        gap: 8px;
        padding: 12px 20px;
        border-radius: 20px;
      }

      .kiss-counter svg {
        width: 24px;
        height: 24px;
      }

      .kiss-count {
        font-size: 2rem;
      }

      .kiss-label {
        font-size: 0.8rem;
      }

      .kiss-message {
        font-size: 0.85rem;
      }

      .continue-btn {
        padding: 12px 24px;
        font-size: 0.9rem;
      }

      /* Modal mobile */
      .reveal-modal-content {
        padding: 20px;
        margin: 15px;
      }

      .reveal-image-wrapper {
        height: 150px;
      }

      .reveal-title {
        font-size: 1.2rem;
      }

      .reveal-text {
        font-size: 0.85rem;
      }
    }

    /* =====================================================================
       RESPONSIVE - SMALL MOBILE (360px and below)
       ===================================================================== */
    @media (max-width: 360px) {
      .cake-section {
        padding: 15px;
        padding-top: 25px;
      }

      .cake-content {
        padding: 20px 15px;
        border-radius: 20px;
      }

      .cake-title {
        font-size: 1.2rem;
      }

      .cake-subtitle {
        font-size: 0.85rem;
        margin-bottom: 15px;
      }

      .birthday-cake {
        width: 140px;
        height: 160px;
        margin-bottom: 10px;
      }

      .cake-candles {
        gap: 18px;
      }

      .candle {
        width: 8px;
        height: 30px;
      }

      .flame {
        width: 10px;
        height: 15px;
        top: -15px;
      }

      .cake-top {
        top: 40px;
        width: 105px;
        height: 35px;
      }

      .cake-middle {
        top: 75px;
        width: 120px;
        height: 40px;
      }

      .cake-bottom {
        top: 115px;
        width: 140px;
        height: 40px;
      }

      .cake-plate {
        width: 160px;
        height: 14px;
      }

      .kiss-counter {
        padding: 10px 16px;
      }

      .kiss-count {
        font-size: 1.6rem;
      }

      .gift-scene {
        height: 250px;
      }

      .gift-box-wrapper {
        --box-size: 85px;
        --lid-height: 26px;
        --ribbon-width: 18px;
      }

      .bow-container {
        width: 52px;
        height: 36px;
        top: -28px;
      }

      .bow-loop {
        width: 24px;
        height: 20px;
      }

      .bow-knot {
        width: 16px;
        height: 16px;
      }

      .bow-tail {
        width: 10px;
        height: 22px;
        bottom: -16px;
      }

      .bow-tail-left { left: 12px; }
      .bow-tail-right { right: 12px; }

      .surprise-heart {
        width: 50px;
        height: 50px;
      }

      .surprise-heart svg {
        width: 28px;
        height: 28px;
      }
    }

    /* =====================================================================
       LANDSCAPE MODE
       ===================================================================== */
    @media (max-height: 500px) and (orientation: landscape) {
      .gift-scene {
        height: 220px;
        margin: 10px auto 20px;
      }

      .gift-box-wrapper {
        --box-size: 90px;
        --lid-height: 28px;
        --ribbon-width: 18px;
      }

      .surprise-message-container {
        padding: var(--spacing-lg) !important;
      }
    }
  </style>
</head>
<body>
  <div class="floating-hearts" aria-hidden="true"></div>

  <!-- Confetti Canvas -->
  <canvas id="confetti-canvas"></canvas>

  <!-- Explosion Container -->
  <div class="explosion-container" id="explosion-container"></div>

  <!-- Image Reveal Modal (appears after box opens) -->
  <div class="reveal-modal" id="reveal-modal">
    <div class="reveal-modal-content">
      <div class="reveal-image-wrapper">
        <img src="assets/images/001.jpg" alt="Your Gift" class="reveal-image">
      </div>
      <h3 class="reveal-title">Your Birthday Gift!!!!!!</h3>
      <p class="reveal-text">
        Baby, I got you a Land Cruiser! mafoooooooo<br>
        <small style="color: #999; font-size: 0.85rem;">
          (In my dreams... where my bank account is thriving)<br>
          Just claim it spiritually for now, the physical will follow, make i blow First!
        </small>
      </p>
      <div class="reveal-progress"></div>
    </div>
  </div>

  <!-- Birthday Cake Interaction Section -->
  <div class="cake-section" id="cake-section">
    <div class="cake-content">
      <h2 class="cake-title gradient-text">Send Me Birthday Kisses!</h2>
      <p class="cake-subtitle">Tap the cake to send love</p>
      
      <div class="cake-container" id="cake-container">
        <!-- Birthday Cake SVG -->
        <div class="birthday-cake" id="birthday-cake">
          <div class="cake-candles">
            <div class="candle"><div class="flame"></div></div>
            <div class="candle"><div class="flame"></div></div>
            <div class="candle"><div class="flame"></div></div>
          </div>
          <div class="cake-top"></div>
          <div class="cake-middle"></div>
          <div class="cake-bottom"></div>
          <div class="cake-plate"></div>
        </div>
        <div class="tap-hint">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle;"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></svg>
          Tap me!
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="vertical-align: middle;"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/></svg>
        </div>
      </div>
      
      <div class="kiss-counter-wrapper">
        <div class="kiss-counter" id="kiss-counter">
          <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="var(--color-rose)" stroke="none"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
          <span class="kiss-count" id="kiss-count">0</span>
          <span class="kiss-label">Birthday Kisses Sent</span>
        </div>
        <p class="kiss-message" id="kiss-message">Keep tapping to send more love!</p>
      </div>
      
      <button class="btn btn-primary continue-btn" id="continue-btn">
        <span>Continue to Your Surprise</span>
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg>
      </button>
    </div>
  </div>

  <div class="page-container">
    <div id="page-content" class="page-content">
      
      <section class="surprise-container text-center">
        
        <!-- Title -->
        <div data-aos="fade-down" data-aos-duration="800">
          <h1 class="section-heading gradient-text mb-md">A Gift For You</h1>
          <p class="poetic-text mb-lg" style="max-width: 500px; margin: 0 auto var(--spacing-xl);">
            I've prepared something special for you. Click the gift to unwrap your surprise...
          </p>
        </div>

        <!-- 3D Gift Box -->
        <div class="gift-scene" data-aos="zoom-in" data-aos-delay="200">
          <div class="gift-box-wrapper" id="gift-box">
            <!-- Gift Box Base -->
            <div class="gift-box">
              <div class="box-side box-front">
                <div class="ribbon-stripe ribbon-v"></div>
              </div>
              <div class="box-side box-back">
                <div class="ribbon-stripe ribbon-v"></div>
              </div>
              <div class="box-side box-right">
                <div class="ribbon-stripe ribbon-h"></div>
              </div>
              <div class="box-side box-left">
                <div class="ribbon-stripe ribbon-h"></div>
              </div>
              <div class="box-side box-bottom"></div>

              <!-- Gift Lid -->
              <div class="gift-lid">
                <div class="lid-side lid-top">
                  <div class="ribbon-stripe ribbon-v" style="width: 35px; height: 100%;"></div>
                  <div class="ribbon-stripe ribbon-h" style="height: 35px; width: 100%;"></div>
                </div>
                <div class="lid-side lid-front"></div>
                <div class="lid-side lid-back"></div>
                <div class="lid-side lid-right"></div>
                <div class="lid-side lid-left"></div>

                <!-- Bow -->
                <div class="bow-container">
                  <div class="bow-loop bow-loop-left"></div>
                  <div class="bow-loop bow-loop-right"></div>
                  <div class="bow-knot"></div>
                  <div class="bow-tail bow-tail-left"></div>
                  <div class="bow-tail bow-tail-right"></div>
                </div>
              </div>

              <!-- Surprise Reveal Content -->
              <div class="surprise-reveal">
                <div class="surprise-heart">
                  <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                  </svg>
                </div>
              </div>
            </div>
          </div>
          <span class="click-instruction">âœ¨ Tap to open âœ¨</span>
        </div>

        <!-- Revealed Message Section -->
        <div class="surprise-message-container glass-card glass-card-strong" id="surprise-message" style="max-width: 700px; margin: var(--spacing-2xl) auto; padding: var(--spacing-2xl);">
          
          <!-- Header -->
          <div class="text-center mb-xl">
            <div style="animation: heartBeat 1.5s ease-in-out infinite; display: inline-block; margin-bottom: var(--spacing-lg);">
              <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24" fill="url(#surpriseGradient)" stroke="none">
                <defs>
                  <linearGradient id="surpriseGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:var(--color-rose)"/>
                    <stop offset="100%" style="stop-color:var(--color-love-pink)"/>
                  </linearGradient>
                </defs>
                <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/>
              </svg>
            </div>
            <h2 class="section-heading">
              <span class="highlight-text">Happy Birthday, My Love!</span>
            </h2>
            <div class="section-divider" style="margin: var(--spacing-md) auto var(--spacing-lg);"></div>
          </div>

          <!-- Message -->
          <div class="mb-xl">
            <p class="poetic-text" style="margin-bottom: var(--spacing-lg);">
              Every day with you is a gift, but today is extra special because it's the day 
              the universe blessed me with you. You are my greatest adventure, my safest home, 
              and my most beautiful dream come true.
            </p>
            <p class="poetic-text">
              On this day, I want you to know that my love for you grows deeper with every 
              passing moment. You make my world brighter, my heart fuller, and my life infinitely richer.
            </p>
          </div>

          <!-- Interactive Cards -->
          <div class="surprise-interactive-grid mb-xl">
            <div class="surprise-card" data-page="message.html">
              <div class="surprise-card-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20 12v10H4V12"/>
                  <path d="M2 7h20v5H2z"/>
                  <path d="M12 22V7"/>
                  <path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"/>
                  <path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"/>
                </svg>
              </div>
              <h3 class="surprise-card-title">Special Gift</h3>
              <p class="surprise-card-text">A personalized message just for you</p>
            </div>

            <div class="surprise-card" data-page="message.html">
              <div class="surprise-card-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                </svg>
              </div>
              <h3 class="surprise-card-title">Love Letter</h3>
              <p class="surprise-card-text">Words from my heart to yours</p>
            </div>

            <div class="surprise-card" data-page="memories.html">
              <div class="surprise-card-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                  <circle cx="9" cy="9" r="2"/>
                  <path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/>
                </svg>
              </div>
              <h3 class="surprise-card-title">Our Memories</h3>
              <p class="surprise-card-text">Beautiful moments we've shared</p>
            </div>

            <div class="surprise-card" data-page="questions.html">
              <div class="surprise-card-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                </svg>
              </div>
              <h3 class="surprise-card-title">Deep Questions</h3>
              <p class="surprise-card-text">Know each other even more</p>
            </div>
          </div>

          <!-- Footer -->
          <div class="decorative-dots mb-lg">
            <span class="decorative-dot"></span>
            <span class="decorative-dot"></span>
            <span class="decorative-dot"></span>
          </div>

          <p class="text-center mb-lg" style="font-size: var(--font-size-lg); font-weight: 600;">
            <span class="highlight-text">I love you more than words could ever express.</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="var(--color-rose)" style="vertical-align: middle; margin-left: 8px;">
              <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/>
            </svg>
          </p>

          <div class="text-center">
            <a href="message.html" class="btn btn-primary btn-lg">
              <span>Read My Letter</span>
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
              </svg>
            </a>
          </div>
        </div>

      </section>

    </div>
  </div>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav" role="navigation" aria-label="Main navigation">
    <button class="nav-item" id="nav-home" data-page="index.html" aria-label="Home">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
    </button>
    <button class="nav-item" id="nav-story" data-page="love-story.html" aria-label="Our Story">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/></svg>
    </button>
    <button class="nav-item" id="nav-questions" data-page="questions.html" aria-label="Questions">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
    </button>
    <button class="nav-item" id="nav-memories" data-page="memories.html" aria-label="Memories">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>
    </button>
    <button class="nav-item active" id="nav-surprise" data-page="surprise.html" aria-label="Surprise">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 12v10H4V12"/><path d="M2 7h20v5H2z"/><path d="M12 22V7"/><path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"/><path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"/></svg>
    </button>
    <button class="nav-item" id="nav-message" data-page="message.html" aria-label="Love Letter">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>
    </button>
  </nav>

  <!-- Scripts -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="js/state.js"></script>
  <script src="js/router.js"></script>
  <script src="js/animations.js"></script>
  <script src="js/audio-manager.js"></script>

  <script>
    // Initialize AOS
    AOS.init({
      duration: 800,
      easing: 'ease-out-cubic',
      once: true
    });

    // =========================================================================
    // CONFETTI ANIMATION
    // =========================================================================
    const confettiCanvas = document.getElementById('confetti-canvas');
    const ctx = confettiCanvas.getContext('2d');
    let confettiPieces = [];
    let confettiActive = false;

    function resizeCanvas() {
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    class ConfettiPiece {
      constructor() {
        this.x = Math.random() * confettiCanvas.width;
        this.y = -10 - Math.random() * 100;
        this.size = Math.random() * 8 + 4;
        this.speedY = Math.random() * 3 + 2;
        this.speedX = Math.random() * 2 - 1;
        this.rotation = Math.random() * 360;
        this.rotationSpeed = Math.random() * 6 - 3;
        this.colors = ['#FF6B8A', '#FFB6C1', '#E6B3FF', '#FFD4A3', '#B8F3D8', '#FF8FA3'];
        this.color = this.colors[Math.floor(Math.random() * this.colors.length)];
        this.shape = Math.random() > 0.5 ? 'rect' : 'circle';
      }

      update() {
        this.y += this.speedY;
        this.x += this.speedX;
        this.rotation += this.rotationSpeed;
        
        if (this.y > confettiCanvas.height + 20) {
          this.y = -20;
          this.x = Math.random() * confettiCanvas.width;
        }
      }

      draw() {
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.rotation * Math.PI / 180);
        ctx.fillStyle = this.color;
        
        if (this.shape === 'rect') {
          ctx.fillRect(-this.size / 2, -this.size / 2, this.size, this.size * 0.6);
        } else {
          ctx.beginPath();
          ctx.arc(0, 0, this.size / 2, 0, Math.PI * 2);
          ctx.fill();
        }
        
        ctx.restore();
      }
    }

    function startConfetti() {
      if (confettiActive) return;
      confettiActive = true;
      confettiPieces = [];
      
      for (let i = 0; i < 100; i++) {
        confettiPieces.push(new ConfettiPiece());
      }
      
      animateConfetti();
      
      // Stop confetti after 5 seconds
      setTimeout(() => {
        confettiActive = false;
      }, 5000);
    }

    function animateConfetti() {
      if (!confettiActive && confettiPieces.length === 0) return;
      
      ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
      
      confettiPieces.forEach((piece, index) => {
        piece.update();
        piece.draw();
        
        if (!confettiActive && piece.y > confettiCanvas.height + 20) {
          confettiPieces.splice(index, 1);
        }
      });
      
      requestAnimationFrame(animateConfetti);
    }

    // =========================================================================
    // EXPLOSION EFFECT
    // =========================================================================
    function createExplosion(x, y) {
      const container = document.getElementById('explosion-container');
      const colors = ['#FF6B8A', '#FFB6C1', '#E6B3FF', '#FFD4A3', '#B8F3D8'];
      
      // Create sparkles
      for (let i = 0; i < 30; i++) {
        const sparkle = document.createElement('div');
        sparkle.className = 'sparkle';
        sparkle.style.left = x + 'px';
        sparkle.style.top = y + 'px';
        sparkle.style.background = colors[Math.floor(Math.random() * colors.length)];
        sparkle.style.setProperty('--tx', (Math.random() - 0.5) * 400 + 'px');
        sparkle.style.setProperty('--ty', (Math.random() - 0.5) * 400 + 'px');
        container.appendChild(sparkle);
        
        setTimeout(() => sparkle.remove(), 1500);
      }
      
      // Create heart particles
      for (let i = 0; i < 15; i++) {
        const heart = document.createElement('div');
        heart.className = 'heart-particle';
        heart.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="var(--color-rose)" stroke="none"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>';
        heart.style.left = x + 'px';
        heart.style.top = y + 'px';
        heart.style.setProperty('--tx', (Math.random() - 0.5) * 300 + 'px');
        heart.style.setProperty('--ty', (Math.random() - 0.5) * 300 + 'px');
        heart.style.setProperty('--rot', (Math.random() * 720 - 360) + 'deg');
        container.appendChild(heart);
        
        setTimeout(() => heart.remove(), 2000);
      }
    }

    // =========================================================================
    // GIFT BOX INTERACTION
    // =========================================================================
    const giftBox = document.getElementById('gift-box');
    const surpriseMessage = document.getElementById('surprise-message');
    const revealModal = document.getElementById('reveal-modal');
    const cakeSection = document.getElementById('cake-section');
    const cakeContainer = document.getElementById('cake-container');
    const kissCountEl = document.getElementById('kiss-count');
    const kissMessageEl = document.getElementById('kiss-message');
    const continueBtn = document.getElementById('continue-btn');
    
    let isOpened = false;
    const STORAGE_KEY = 'birthdayKisses';
    const MIN_KISSES = 5;

    const kissMessages = [
      "Keep tapping to send more love!",
      "You're doing great!",
      "So much love!",
      "My heart is overflowing!",
      "You're the sweetest!",
      "I feel so loved!",
      "Never stop!",
      "Best birthday ever!"
    ];

    function updateKissMessage() {
      if (kissMessageEl) {
        const idx = Math.min(Math.floor(kissCount / 3), kissMessages.length - 1);
        kissMessageEl.textContent = kissMessages[idx];
      }
    }

    // Load saved kisses
    let kissCount = parseInt(localStorage.getItem(STORAGE_KEY)) || 0;
    if (kissCountEl) kissCountEl.textContent = kissCount;
    updateKissMessage();
    if (kissCount >= MIN_KISSES && continueBtn) continueBtn.classList.add('enabled');

    giftBox.addEventListener('click', function(e) {
      if (isOpened) return;
      isOpened = true;
      
      const rect = this.getBoundingClientRect();
      const x = rect.left + rect.width / 2;
      const y = rect.top + rect.height / 2;
      
      this.classList.add('opened');
      
      setTimeout(() => {
        createExplosion(x, y);
        startConfetti();
      }, 400);
      
      // Show reveal modal after box opens
      setTimeout(() => {
        revealModal.classList.add('show');
        
        // Auto transition to cake section after 3 seconds
        setTimeout(() => {
          revealModal.classList.remove('show');
          setTimeout(() => {
            cakeSection.classList.add('show');
          }, 500);
        }, 3000);
      }, 1000);
    });

    // Birthday cake tap interaction
    cakeContainer.addEventListener('click', function(e) {
      kissCount++;
      localStorage.setItem(STORAGE_KEY, kissCount);
      kissCountEl.textContent = kissCount;
      updateKissMessage();
      
      if (kissCount >= MIN_KISSES) continueBtn.classList.add('enabled');
      
      // Create tap effect with SVG hearts
      const rect = this.getBoundingClientRect();
      const effect = document.createElement('div');
      effect.className = 'tap-effect';
      const colors = ['#FF6B8A', '#FF85A2', '#FFB3C1', '#E85577', '#FF8FA3'];
      const color = colors[Math.floor(Math.random() * colors.length)];
      effect.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="${color}" stroke="none"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>`;
      effect.style.left = (e.clientX - rect.left) + 'px';
      effect.style.top = (e.clientY - rect.top) + 'px';
      this.appendChild(effect);
      setTimeout(() => effect.remove(), 1000);
    });

    // Continue button
    continueBtn.addEventListener('click', function() {
      if (kissCount < MIN_KISSES) return;
      cakeSection.classList.remove('show');
      setTimeout(() => {
        surpriseMessage.classList.add('show');
        setTimeout(() => {
          surpriseMessage.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 300);
      }, 500);
    });

    // =========================================================================
    // SURPRISE CARDS NAVIGATION
    // =========================================================================
    const surpriseCards = document.querySelectorAll('.surprise-card');
    
    surpriseCards.forEach(card => {
      card.addEventListener('click', function() {
        const page = this.getAttribute('data-page');
        if (page) {
          window.location.href = page;
        }
      });
    });

    // =========================================================================
    // FLOATING HEARTS CREATION
    // =========================================================================
    function createFloatingHearts() {
      const container = document.querySelector('.floating-hearts');
      if (!container) return;

      for (let i = 0; i < 8; i++) {
        const heart = document.createElement('div');
        heart.className = 'floating-heart';
        heart.innerHTML = 'â¤ï¸';
        heart.style.left = Math.random() * 100 + '%';
        heart.style.animationDuration = (10 + Math.random() * 10) + 's';
        heart.style.animationDelay = (Math.random() * 10) + 's';
        heart.style.fontSize = (12 + Math.random() * 12) + 'px';
        container.appendChild(heart);
      }
    }

    createFloatingHearts();
  </script>

  <!-- Vercel Web Analytics -->
  <script>
    window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
  </script>
  <script defer src="/_vercel/insights/script.js"></script>
</body>
</html>